<!DOCTYPE html>

<html>

    <head>
        <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
        <script type="text/javascript">
            let spec = "map.json"
            vegaEmbed('#map', spec, {"actions": false}).then( (result) => {
            }).catch(console.error);

            spec = "top5countries.json"
            vegaEmbed('#top5countries', spec,{"actions": false}).then( (result) => {
            }).catch(console.error);

            spec = "bottom5.json"
            vegaEmbed('#bottom5', spec,{"actions": false}).then( (result) => {
            }).catch(console.error);

            spec = "gpa_happiness.json"
            vegaEmbed('#happiness', spec,{"actions": false}).then( (result) => {
            }).catch(console.error);

            spec = "social_support.json"
            vegaEmbed('#social', spec,{"actions": false}).then( (result) => {
            }).catch(console.error);

            spec = "Health.json"
            vegaEmbed('#health', spec,{"actions": false}).then( (result) => {
            }).catch(console.error);

            spec = "freedom.json"
            vegaEmbed('#freedom', spec,{"actions": false}).then( (result) => {
            }).catch(console.error);

            spec = "generosity.json"
            vegaEmbed('#generosity', spec,{"actions": false}).then( (result) => {
            }).catch(console.error);

            spec = "corruption.json"
            vegaEmbed('#corruption', spec,{"actions": false}).then( (result) => {
            }).catch(console.error);
        </script>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <!-- Importing Pure CSS -->
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">

    <body>
        <div class="page">

            <div class="pure-g">
                <div id="title" class="pure-u-1">
                    <h1>World's Happiness Score</h1>
                </div>
            </div>

            <div class="pure-g">
                <div id="text1" class="pure-u-1">
                    <p>The world's happiness report is a landmark survey of the world's happiness level. The determinants of the happiness score includes <b><font color="#3a6397">freedom to make life choices</font></b>, <b><font color="orange">GDP per capita</font></b>, <b><font color="red">generosity</font></b>, <b><font color="#8ac2b1">healthy life expectancy</font></b>, <b><font color="green">perception of corruption</font></b> and <b><font color="#ffdc2d">social support</font></b>. This visualisation is aimed to look at the happiness level of different countries and relationship between different component of happiness score.</p>
                </div>
            </div>

            <div class="pure-g">
                <div id="maptitle" class="pure-u-1">
                    <h2>The Level of Happiness across the Globe</h2>
                </div>
            </div>

            <div class="pure-g">

                <div id="map" class="pure-u-1"></div>
                
            </div>

            <div class="pure-g">
                <div id="text2" class="pure-u-1">
                    <p>The above map shows the happiness score of each country. We can observe that the happiness level of Europe, North America and Oceania in general is the highest. Coming up next is Asia and South America, their happiness level is average in the world. The least happiest region is Africa. </p>
                </div>
            </div>

            <div class="pure-g">
                <div id="top5title" class="pure-u-1">
                    <h2>The Top 5 Happiest Countries</h2>
                </div>
            </div>

            <div class="pure-g">
                <div id="top5countries" class="pure-u-1"></div>
            </div> 

            <div class="pure-g">
                <div id="bottom5title" class="pure-u-1">
                    <h2>The Bottom 5 Happiest Countries</h2>
                </div>
            </div>

            <div class="pure-g">
                <div id="bottom5" class="pure-u-1"></div>
            </div>

            <div class="pure-g">
                <div id="text3" class="pure-u-1">
                    <p>These are the top 5 and bottom 5 happiest countries. In terms of <b><font color="red">generosity</font></b> and <b><font color="green">perception of corruption</font></b>, the top 5 and bottom 5 countries have the similar score. But for the other determinants, the top 5 outscores the bottoms. </p>
                </div>
            </div>

            <div class="pure-g">
                <div id="corretitle" class="pure-u-1">
                    <h2>The Relationship between Happiness Determinants and Happiness Score</h2>
                </div>
            </div>

            <div class="pure-g">
                <div id="text5" class="pure-u-1">
                    <p>In the scatter plot, you can select a region in the legend to highlight the region's data. </p>
                </div>
            </div>

            <div class="pure-g">
                <div id="happiness" class="pure-u-1-2"></div>
                <div id="social" class="pure-u-1-2"></div>
            </div> 

            <div class="pure-g">
                <div id="health" class="pure-u-1-2"></div>
                <div id="freedom" class="pure-u-1-2"></div>
            </div>  

            <div class="pure-g">
                <div id="generosity" class="pure-u-1-2"></div>
                <div id="corruption" class="pure-u-1-2"></div>
            </div>  

            <div class="pure-g">
                <div id="text4" class="pure-u-1">
                    <p>On the above scatter plots, <b><font color="#3a6397">freedom to make life choices</font></b>, <b><font color="orange">GDP per capita</font></b>, <b><font color="#8ac2b1">healthy life expectancy</font></b> and <b><font color="#ffdc2d">social support</font></b> all have a visable positive relationship with happiness, while <b><font color="red">generosity</font></b> and <b><font color="green">perception of corruption</font></b> do not have a significant imapct on happiness level. </p>
                    <p>In terms of <b><font color="orange">GDP per capita</font></b>, some countries in Asia scores the highest, but they are not the happiest countries. But for Europe and Oceania, they both score high in <b><font color="orange">GDP per capita</font></b> and the happiness score.</p>
                    <p>As for <b><font color="#ffdc2d">social support</font></b>, Europe and Oceania both having high scores in <b><font color="#ffdc2d">social support</font></b> and happiness score, while Africa has low scores on both.</p>
                    <p>For <b><font color="#8ac2b1">healthy life expectancy</font></b>, Asia, Europe ,Oceania have a higher score than others.</p>
                    <p>In the other graphs, the error is larger so that we can't observe a clear relationship from this dimension.</p>
                </div>
            </div>
        </div>
    </body>


</html>